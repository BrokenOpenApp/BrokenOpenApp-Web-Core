{#
 #
 # @license Apache Open Source License 2.0 http://www.apache.org/licenses/LICENSE-2.0
 # @link http://www.brokenopenapp.org/ BrokenOpenApp Home Page for docs and support
 #}

{% extends 'JMBTechnologyBrokenOpenAppCoreBundle::layout.html.twig' %}

{% import 'JMBTechnologyBrokenOpenAppCoreBundle::breadcrumb.html.twig' as breadcrumb %}
{% block main %}

	{{ breadcrumb.echo([
	{ label: 'Dashboard', link: path('_main_dashboard') },
	{ label: 'Project ' ~ project.title, link: path('_project_index', {'projectId':project.id}) }
	]) }}


	<!-- List - Last 10 issues submitted -->
	<section class="latest-issues">
		<h2>Latest {{ issues|length }} issues</h2>
		{% if issues %}
			<table>
				<thead>
				{% block table_headers %}
					<tr>
						<th>&nbsp;</th>
						<th>Title</th>
						<th></th>
					</tr>
				{% endblock %}
				</thead>
				<tbody>
				{% for i in issues %}

					<tr>
						<td>#{{ i.number }}</td>
						<td>{{ i.title }}</td>
						<td class="action-link"><a href="{{ path('_project_issue_index', {'projectId':project.id, 'issueId': i.number}) }}" class="primary-button">Details</a></td>
					</tr>
				{% endfor %}
				</tbody>
				<tfoot>
				{{ block('table_headers') }}
				</tfoot>
			</table>
		{% else %}
			<p>No issues have been submitted yet for your applications</p>
		{% endif %}
	</section>


	<h2>Set up ACRA</h2>
	<pre>
import org.acra.*;
import org.acra.annotation.*;

@ReportsCrashes(formUri = "{{  incomingCrashURL }}")
public class OurApplication extends Application {

        @Override
        public void onCreate() {
                super.onCreate();
                ACRA.init(this);
        }

}
	</pre>

{%  if isCurrentUserAdminProject %}
	<a href="{{ path('_project_admin_index', {'projectId':project.id }) }}" class="primary-button">Project Admin</a>
{%  endif %}

	<a href="{{ path('_project_usersettings_index', {'projectId':project.id }) }}" class="primary-button">Your Project Settings</a>

{% endblock %}
